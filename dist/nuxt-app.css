.ai-bubble-container{position:fixed;bottom:20px;right:20px;z-index:9999;font-family:Microsoft YaHei,sans-serif;box-sizing:border-box}.floating-button{width:60px;height:60px;border-radius:50%;background-color:#007bff;color:#fff;display:flex;justify-content:center;align-items:center;font-size:1.5rem;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s,transform .3s}.floating-button:hover{background-color:#0056b3;transform:scale(1.05)}.chat-main{position:absolute;bottom:80px;right:0;width:380px;height:500px;background-color:#f0f0f0;border-radius:8px;box-shadow:0 4px 12px #00000026;display:flex;flex-direction:column;overflow:hidden}.toolbar{padding:.5rem 1rem;border-bottom:1px solid #eee;display:flex;gap:.5rem;align-items:center;justify-content:space-between;background-color:#f7f7f7;flex-shrink:0}.toolbar-btn,.theme-select{background:#007bff;color:#fff;border:none;padding:.5rem;border-radius:4px;cursor:pointer;font-size:.9rem}.theme-select{background:#fff;color:#000;border:1px solid #ccc;padding:.4rem}.close-chat-btn{background:none;border:none;color:#666;font-size:1.2rem;cursor:pointer;padding:.2rem .5rem}.messages-area{flex:1;padding:1rem;overflow-y:auto;background-color:#fcfcfc}.message-wrapper{margin-bottom:.8rem;display:flex}.message-wrapper.is-user{justify-content:flex-end}.message-row{display:flex;align-items:flex-start;gap:.5rem}.message-row.is-user-row{justify-content:flex-end}.message-label{font-weight:700;min-width:2rem;padding-top:.5rem;color:#555}.message-bubble{padding:.6rem .9rem;border-radius:18px;max-width:75%;display:inline-block;box-shadow:0 1px 3px #00000014;word-break:break-word;white-space:pre-wrap;font-size:.95rem}.ai-bubble{background-color:#fff;color:#000;border:1px solid #eee}.user-bubble{background-color:#007bff;color:#fff}.text-content{margin:0;padding:0;line-height:1.6}.message-bubble audio{width:100%;max-width:250px;height:30px}.input-form{flex-shrink:0;display:flex;padding:.5rem;border-top:1px solid #eee;align-items:center;background-color:#f7f7f7}.chat-textarea{flex:1;padding:.6rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;resize:none;line-height:1.5;height:3rem;overflow-y:auto}.input-form button{margin-left:.5rem;padding:.6rem 1rem;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s;font-size:1rem}.input-form button:disabled{background-color:#aaa;cursor:not-allowed}.input-form button:hover:not(:disabled){background-color:#0056b3}.draggable-modal{position:absolute;width:300px;height:300px;background:#f8f8f8;box-shadow:0 4px 12px #0003;border-radius:8px;display:flex;flex-direction:column;z-index:10000;border:1px solid #ddd;overflow:hidden}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;background:#eee;cursor:grab;border-bottom:1px solid #ddd;border-top-left-radius:8px;border-top-right-radius:8px;flex-shrink:0}.modal-header span{font-weight:700;color:#333}.close-btn{background:transparent;border:none;font-size:1.1rem;cursor:pointer;color:#666}.close-btn:hover{color:#000}.modal-content{flex:1;padding:.8rem;overflow-y:auto;font-size:.9rem}.pre-wrap{white-space:pre-wrap}.text-center{display:flex;flex-direction:column;align-items:center;text-align:center;gap:.5rem}.log-entry pre{margin:0;font-size:.75rem;background:#fff;padding:.5rem;border-radius:4px;border:1px solid #eee;overflow-x:auto}.log-entry hr{border:none;border-top:1px dashed #ccc;margin:.8rem 0}.dice-animation{display:inline-flex;gap:.5rem;font-size:1.5rem;padding:.5rem 0}.dice-animation .die{display:inline-block;animation:roll .7s infinite ease-in-out}.dice-animation .die:nth-child(2){animation-delay:.1s}.dice-animation .die:nth-child(3){animation-delay:.2s}@keyframes roll{0%{transform:rotate(0) scale(1)}50%{transform:rotate(180deg) scale(.8)}to{transform:rotate(360deg) scale(1)}}.mic-button{background:#007bff;color:#fff;border:none;border-radius:4px;padding:.6rem;cursor:pointer;margin-left:.5rem;font-size:1.2rem}.mic-button.is-listening{background-color:#28a745!important;color:#fff;box-shadow:0 0 8px #28a745;animation:pulse 1.2s infinite}@keyframes pulse{0%{box-shadow:0 0 #28a745b3}70%{box-shadow:0 0 0 10px #28a74500}to{box-shadow:0 0 #28a74500}}
